{{ define "response" }}
{{ $.Scratch.Set "counter" 0 }}
  {{ range .Pages }}
    {{ $.Scratch.Set "counter" (add ($.Scratch.Get "counter") 1) }}
		<Addon>
			<Metadata>
			    <Id>{{ add ($.Scratch.Get "counter") 400000}}</Id>
			    <Package>{{ .Params.packageName }}</Package>
			    <Thumbnail>{{ .Params.imageUrl }}</Thumbnail>
			    <Name>{{ .Title }}</Name>
			    <Description>{{ .Params.description }}</Description>
			    <FullInfo>
			    	{{ .RawContent }}
			    </FullInfo>
			</Metadata>
			<Build>
		    	<VersionName>{{ .Params.addon.versionName }}</VersionName>
		    	{{ with .Params.publishDate }}<VersionNumber>{{ .Format "20060102" }}</VersionNumber>{{ end }}
			</Build>
		    <Package>
			    {{ if .Params.addon.noMirror }}
			    <DirectUrl>{{ .Params.addon.packageUrl }}</DirectUrl>
			    {{ else }}
			    <DirectUrl>https://downloads.sourceforge.net/project/freshroms/{{ .Params.addon.packageUrl }}</DirectUrl>
		    	{{ end }}
			    <FileSize type="integer">{{ .Params.addon.packageSize }}</FileSize>
		    </Package>
		</Addon>
  {{ end }}
{{ end }}
