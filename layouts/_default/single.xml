{{ define "response" }}
  {{ $addons := (where (where $.Site.RegularPages "Section" "addons" ) "Params.rom" (.FirstSection.Params.id)) }}
  {{ $addonCount := len $addons }}
  <RomName>{{ print .FirstSection.Params.title }}</RomName>
  <Release type="integer">2</Release>
  <BuildVersion type="integer">{{ .Title }}</BuildVersion>
  <VersionNumber type="integer">{{ .Title }}</VersionNumber>
  <VersionName>{{ print .FirstSection.Params.title " " .Params.releaseVersion " " .Params.releaseVariant }}</VersionName>
  <ReleaseVersion>{{ .Params.releaseVersion }}</ReleaseVersion>
  <ReleaseVariant>{{ .Params.releaseVariant }}</ReleaseVariant>
  {{ with .CurrentSection.Params.urls.forum }}<WebsiteURL>{{ . }}</WebsiteURL>{{ end }}
  {{ with .CurrentSection.Params.urls.forum }}<ForumURL>{{ . }}</ForumURL>{{ end }}
  {{ with .FirstSection.Params.urls.discord }}<DiscordURL>{{ . }}</DiscordURL>{{ end }}
  {{ with .FirstSection.Params.urls.gitIssues }}<GitIssues>{{ . }}</GitIssues>{{ end }}
  {{ with .FirstSection.Params.urls.gitDiscussion }}<GitDiscussion>{{ . }}</GitDiscussion>{{ end }}
  {{ if .Site.Params.donateUrl }}<DonateURL>{{ . }}</DonateURL>{{else}}<DonateURL nil="true" />{{ end }}
  <Developer nil="true" />
  <HttpUrl nil="true" />
  <AddonCount>{{ $addonCount }}</AddonCount>
  <AddonsManifest>{{ .Site.BaseURL }}addons/{{ .FirstSection.Params.id }}/</AddonsManifest>
  <AddonsURL>{{ .Site.BaseURL }}addons/{{ .FirstSection.Params.id }}/</AddonsURL>
  <Android>{{ .Params.android.version }}</Android>
  {{ with .Params.android.sesl }}<SemUi>{{ . }}</SemUi>{{ end }}
  {{ with .Params.android.spl }}<AndroidSpl>{{ dateFormat "2006-01-02" . }}</AndroidSpl>{{ end }}
  <DeltaPackageUrl>{{ .Params.delta.packageUrl }}</DeltaPackageUrl>
  <DeltaPackageSize type="integer">{{ .Params.delta.packageSize }}</DeltaPackageSize>
  <DeltaPackageHash>{{ .Params.delta.packageHash }}</DeltaPackageHash>
  <FullPackageUrl>{{ .Params.full.packageUrl }}</FullPackageUrl>
  <FullPackageSize type="integer">{{ .Params.full.packageSize }}</FullPackageSize>
  <FullPackageHash>{{ .Params.full.packageHash }}</FullPackageHash>

  <DirectUrl>{{ .Params.delta.packageUrl }}</DirectUrl>
  <FileSize type="integer">{{ .Params.delta.packageSize }}</FileSize>
  <CheckMD5>{{ .Params.delta.packageHash }}</CheckMD5>
  <Changelog>{{ .RawContent }}</Changelog>
{{ end }}
